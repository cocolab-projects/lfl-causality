<!DOCTYPE html>
<html>
    <head>
        <title>Learning about Chemicals</title>

        <!-- Load style sheet -->
        <link href="../_shared/css/shared.css" media="screen" rel="stylesheet" type="text/css">
        <link href="../_shared/css/cocolab-style.css" media="screen" rel="stylesheet" type="text/css">
        <link href="css/custom.css" media="screen" rel="stylesheet" type="text/css">
        
        <!-- Notice the URL, this is handled by socket.io on the server automatically, via express -->
        <script type="text/javascript" src="/socket.io/socket.io.js"></script>

        <!-- Include some extra functional programming tools -->
        <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>

        <!-- Load jQuery, which lets us handle mouse events -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <!-- Load the common game code. -->
        <script type="text/javascript" src="game.core.js"></script>   

        <!-- Finally, Load the game client code. -->  
        <script type="text/javascript" src="../sharedUtils/clientBase.js"></script>
        <script type="text/javascript" src="../sharedUtils/BoxGenerator.js"></script>
        <script type="text/javascript" src="game.client.js"></script>
        <script type="text/javascript" src="draw.chemicals.js"></script>
        <script type="text/javascript" src="draw.screen.js"></script>

        <script type="text/javascript" src="../_shared/js/mmturkey.js"></script>
    </head>

    <body>
        <noscript>This task requires JavaScript.</noscript>

        <div class="progress hidden" id="progress_component">
                <span>Progress:</span>
                <div class="bar-wrapper">
                    <div class="bar" id="progress_bar"></div>
                </div>
        </div>

        <!-- This slide will be seen by one of the players while until the other player reaches the same screen -->
        <div class="slide" id="wait_room_slide">
            <div id="wait_room_header"></div>
            <br>
            <p>Please do not refresh the page!</p>
            <br><br><hr>
            <br><br>
        </div>

        <!-- This is the slide in which users will be told which round there on. -->
        <div class="slide hidden" id="round_slide">
            <div id="round_slide_header"></div>
            <br>
            <button class="continuebutton" id="round_slide_continue_button" disabled>Continue</button>           
        </div>

        <!-- This is the slide in which users will learn how they will play the game. -->
        <div class="slide hidden" id="tutorial_instructions_slide">
            <div id="tutorial_instructions_slide_header"></div>
            <br>
            <button class="continuebutton" id="tutorial_instructions_slide_continue_button" disabled>Continue</button>
        </div>
 
        <!-- <div class="slide hidden" id="load_slide"> 
            <p align="center" style="font-size: large;">
                <img src="../_shared/images/spinner.gif">
                <br>
                <b>Loading ... Please wait!</b>
            </p>
        </div> -->
        
        <!-- This is the slide in which users will learn to play the game through a tutorial. -->
        <div class="slide hidden" id="tutorial_slide">
            <div id="tutorial_slide_header"></div>
            <br>
            <br>
            <div id="tutorial_slide_grid"></div>
            <br>
            <button class="continuebutton" id="tutorial_slide_test_button">Mix</button> 
            <button class="continuebutton" id="tutorial_slide_newtest_button">New Test</button> 
            <br>
            <button class="continuebutton" id="tutorial_slide_continue_button">Continue</button> 
        </div>
        
        <!-- This is the slide in which users will be told about questions. -->
        <div class="slide hidden" id="question_instructions_slide">
            <div id="question_instructions_slide_header"></div>
            <br>
            <br>
            <button class="continuebutton" id="question_instructions_slide_continue_button">Continue</button> 
        </div>
        
        <!-- This is the slide in which users will learn to about beaker to reaction questions. -->
        <div class="slide hidden" id="first_question_slide">
            <div id="first_question_slide_header"></div>
            <br>
            <br>
            <div id="first_question_slide_grid"></div>
            <br>
            <button class="continuebutton" id="first_question_slide_continue_button">Continue</button> 
        </div>
        
        <!-- This is the slide in which users will learn to about reaction to beaker questions. -->
        <div class="slide hidden" id="second_question_slide">
            <div id="second_question_slide_header"></div>
            <br>
            <br>
            <div id="second_question_slide_grid"></div>
            <br>
            <button class="continuebutton" id="second_question_slide_continue_button">Continue</button> 
        </div>
        
        <div class="slide hidden" id="train_instructions_slide">
            <div id="train_instructions_slide_header"></div>
            <br>
            <button class="continuebutton" id="train_instructions_slide_continue_button" disabled>Continue</button>
        </div>

        <!-- This is the learning slide in which users will uncover information about the critters. -->
        <div class="slide hidden" id="train_chemicals_slide">
            <div id="train_chemicals_slide_header"></div>
            <br>
            <br>
            <div id="train_chemicals_slide_grid"></div>
            <br>
            <button class="continuebutton" id="train_chemicals_slide_test_button">Mix</button> 
            <button class="continuebutton" id="train_chemicals_slide_newtest_button">New Test</button> 
            <br>
            <br>
            <button class="continuebutton" id="train_chemicals_slide_continue_button">Continue</button> 
        </div>

        <!-- This is the slide in which users will learn about the chatroom. -->
        <div class="slide hidden" id="chat_instructions_slide">
            <div id="chat_instructions_slide_header"></div>
            <br>
            <button class="continuebutton" id="chat_instructions_slide_continue_button" disabled>Continue</button>
        </div>

       <!-- Connected players can discuss what they have learned here using a chatbox. -->
       <div class="slide hidden" id="chat_room_slide">
            <div id="chat_room_slide_header">
                <p id="chat_room_slide_instructions">
                    Explorer, please describe what you discovered about the properties of the chemicals.
                    <br><br>
                    <strong>This will be used to teach another student, and you will be bonused on the 
                    performance of the other student, who will only have your description to learn from. </strong>
                </p>
            </div>
            <div id="main">
                <br>
                  <textarea name="message" rows="10" cols="75" id = "chatbox"></textarea>
                  <br>
                  <input type="button" value = "Continue" class="continuebutton" id="chat_room_slide_continue_button">
            </div>
        </div>

        <!-- This is the slide in which users will learn how they will perform the test set. -->        
        <div class="slide hidden" id="test_instructions_slide">
                <div id="test_instructions_slide_header"></div>
                <br>
                <button class="continuebutton disabled" id="test_instructions_slide_continue_button">Continue</button>
            </div>

        <!-- Generates critters that the partner learned about and tests the user -->
        <div class="slide hidden" id="test_chemicals_slide">
            <div id="test_chemicals_slide_header"></div>
            <br>
            <br>
            <div id="test_chemicals_slide_grid"></div>
            <br>
            <button class="continuebutton disabled" id="test_chemicals_slide_continue_button">Continue</button>
        </div>
      
       <!-- Shows score report before allowing player to move on to next block -->
        <div class="slide hidden" id="round_score_report_slide">
            <div id="round_score_report_slide_header">
                <h3>Score Report</h3>
                <p>
                    <br>Here are the scores from this past round:
                </p>
            </div>
            <br>
            <div>
                <table>
                    <td>
                        <div class="score_table" id="your_report">
                            <h4 class="score_player">Your Score</h4><br><br>
                            <div class="report">
                                <p class="subscore_value" id="your_hits"></p><br>
                                <p class="subscore_value"  id="your_falseAlarms"></p><br>
                                <p class="score_value" id="your_score"></p><br><br>
                            </div>
                        </div>
                    </td>
                </table><br><br><br>
            </div>
            <button class="continuebutton disabled" id="round_score_report_continue_button">Continue</button>
       </div>
      
       <!-- Shows total score report, at the end of the entire game -->
       <div class="slide hidden" id="total_score_report_slide">
            <div id="total_score_report_slide_header">
                <h3 id="totalScoreTitle">Total Score Report</h3>
                <p id="totalScoreInfo">
                    <br>
                    Here are the scores across all the rounds: 
                    <h4 id="total_score"></h4>
                    <br><br>
                    You have earned the following bonus:
                    <h4 id="total_bonus"></h4>
                </p>
            </div>
            <br>
            <br>
            <br>
            <button class="continuebutton disabled" id="total_score_report_continue_button">Continue</button>
       </div>
              
        <!-- Collects demographic information from users -->
        <div class="slide hidden"  id="subj_info">
          <div class="long_form">
           <div id="thanks_instructions"> <h3>Thanks for participating in our experiment!</h3>
            <p>Before you submit your HIT, we'd like to ask you a few questions.</p></div>
            <p>Did you read the instructions and do you think you did the
          HIT correctly? </p>
            <select id="assess">
              <option value = ""></option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
              <option value="confused">I was confused</option>
            </select>
      
            <br><br>
            <p> How would you describe the strategy you used in this experiment? </p>
            <textarea id='strategy' rows="4" cols="50"></textarea>
      
              <p> Are you a native English speaker? </p>
              <select id="nativeEnglish">
            <option value = ""></option>
            <option value="yes">Yes</option>
            <option value="no">No</option>
              </select>
      
            <p>Were there any problems or bugs in the experiment?</p>
            <textarea id="problems" rows="2" cols="50" spellcheck=false></textarea>
            
            <p>Was any part of the HIT confusing or particularly difficult?</p>
            <textarea id="confusion" rows="2" cols="50" spellcheck=false></textarea>
      
            <p>What do you think is a fair price for the work you did?</p>
            <textarea id="fairprice" rows="1" cols="10" spellcheck=false></textarea>
      
            <p>Gender:
              <select id="gender">
                <label><option value=""/></label>
                <label><option value="Male"/>Male</label>
                <label><option value="Female"/>Female</label>
                <label><option value="Other"/>Other</label>
              </select>
            </p>
      
            <p>Age: <input type="text" id="age"/></p>
      
            <p>Level Of Education:
              <select id="education">
                <label><option value="-1"/></label>
                <label><option value="0"/>Some High School</label>
                <label><option value="1"/>Graduated High School</label>
                <label><option value="2"/>Some College</label>
                <label><option value="3"/>Graduated College</label>
                <label><option value="4"/>Hold a higher degree</label>
              </select>
            </p>
            
            <p>Level Of Chemistry background:
              <select id="chemistry">
                <label><option value="-1"/></label>
                <label><option value="0"/>None</label>
                <label><option value="1"/>High School level</label>
                <label><option value="2"/>College level</label>
                <label><option value="3"/>Advanced (Professional / Graduate level)</label>
              </select>
            </p>
      
            <p>Did you enjoy the hit?</p>
            <select id="enjoyment">
              <label><option value="-1"></option></label>
              <label><option value="0">Worse than the Average HIT</option></label>
              <label><option value="1" >An Average HIT</option></label>
              <label><option value="2">Better than average HIT</option></label>
            </select>
      
            <p>We would be interested in any comments you have about this experiment. Please type them here:</p>
            <textarea id="comments" rows="3" cols="50" spellcheck=false></textarea>
            <br/>

            <p> Note: Clicking this button should automatically submit the HIT and close this tab. There is no need to input a code.<p>
            <p> If you experience a problem submitting, please contact cmacavoy@stanford.edu for compensation. </p>
            <button class="continuebutton" id="subj_info_button">Submit Hit</button>
          </div>
        </div>
      
        <!-- Generic thanks page that collects some data -->
        <div class="slide js hidden" id="thanks" >
            <p  class="big">Thanks for your Time!</p>
        </div>
        
    </body>
